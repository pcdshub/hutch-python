<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Useful Utilities &mdash; hutch-python 1.12.0+22.gc3bc9af documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Related Modules" href="other_modules.html" />
    <link rel="prev" title="Tips and Tricks" href="tips.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> hutch-python
          </a>
              <div class="version">
                1.12.0+22.gc3bc9af
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="start.html">Starting a Session</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">What to Expect When You are Expecting a New Hutch Python</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">User Documentation</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="startup.html">Startup Sequence</a></li>
<li class="toctree-l1"><a class="reference internal" href="database.html">Database Objects</a></li>
<li class="toctree-l1"><a class="reference internal" href="daq.html">DAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="beamline.html">Beamline File</a></li>
<li class="toctree-l1"><a class="reference internal" href="experiment.html">Experiment File</a></li>
<li class="toctree-l1"><a class="reference internal" href="presets.html">Presets</a></li>
<li class="toctree-l1"><a class="reference internal" href="report.html">Reporting Issues</a></li>
<li class="toctree-l1"><a class="reference internal" href="tips.html">Tips and Tricks</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Useful Utilities</a></li>
<li class="toctree-l1"><a class="reference internal" href="other_modules.html">Related Modules</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Developer Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="environment.html">Environments</a></li>
<li class="toctree-l1"><a class="reference internal" href="hutch_setup.html">Hutch Setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="yaml_files.html">Yaml Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="debug.html">Debug</a></li>
<li class="toctree-l1"><a class="reference internal" href="releases.html">Release History</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Internal API Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="bug.html">bug.py</a></li>
<li class="toctree-l1"><a class="reference internal" href="cache.html">cache.py</a></li>
<li class="toctree-l1"><a class="reference internal" href="cli.html">cli.py</a></li>
<li class="toctree-l1"><a class="reference internal" href="ipython_log.html">ipython_log.py</a></li>
<li class="toctree-l1"><a class="reference internal" href="load_conf.html">load_conf.py</a></li>
<li class="toctree-l1"><a class="reference internal" href="load_parts.html">load submodules</a></li>
<li class="toctree-l1"><a class="reference internal" href="log_setup.html">log_setup.py</a></li>
<li class="toctree-l1"><a class="reference internal" href="namespace.html">namespace.py</a></li>
<li class="toctree-l1"><a class="reference internal" href="utils.html">utils.py</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">hutch-python</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Useful Utilities</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/user_utils.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="useful-utilities">
<h1>Useful Utilities<a class="headerlink" href="#useful-utilities" title="Permalink to this headline">¶</a></h1>
<p>The <code class="docutils literal notranslate"><span class="pre">hutch_python.utils</span></code> and <code class="docutils literal notranslate"><span class="pre">hutch_python.namespace</span></code> modules have
functions that may be broadly useful.</p>
<p><a class="reference internal" href="generated/hutch_python.utils.safe_load.html#hutch_python.utils.safe_load" title="hutch_python.utils.safe_load"><code class="xref any py py-func docutils literal notranslate"><span class="pre">hutch_python.utils.safe_load</span></code></a> can be used as a shortcut for wrapping code
that may or may not succeed to prevent a bad submodule from interrupting the
<code class="docutils literal notranslate"><span class="pre">hutch-python</span></code> load sequence. This means that if the <code class="docutils literal notranslate"><span class="pre">Attenuator</span></code> class is
bugging out, we’ll be warned that there is a problem and skip it, but you’ll
still be able to manipulate the <code class="docutils literal notranslate"><span class="pre">Slits</span></code> objects.</p>
<p>For example, this will complete successfully but show a warning:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [1]: </span><span class="kn">from</span> <span class="nn">hutch_python.utils</span> <span class="kn">import</span> <span class="n">safe_load</span>

<span class="gp">In [2]: </span><span class="k">with</span> <span class="n">safe_load</span><span class="p">(</span><span class="s1">&#39;divide by zero&#39;</span><span class="p">):</span>
<span class="gp">   ...: </span>    <span class="mi">1</span><span class="o">/</span><span class="mi">0</span>
<span class="gp">   ...: </span>
</pre></div>
</div>
<p>The reason for the failure with the full traceback will be saved to the log
file and will be visible in the terminal if you are in <a class="reference internal" href="debug.html"><span class="doc">debug mode</span></a>.</p>
<p><a class="reference internal" href="namespace.html#hutch_python.namespace.class_namespace" title="hutch_python.namespace.class_namespace"><code class="xref any py py-func docutils literal notranslate"><span class="pre">hutch_python.namespace.class_namespace</span></code></a> can be used to create your own object
groupings by type. This will find all objects loaded by hutch python plus all
objects in your global environment, and accumulate them if they match a given
type. You can explititly provide the type object or you can opt to provide a
string.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">hutch_python.namespace</span> <span class="kn">import</span> <span class="n">class_namespace</span>

<span class="n">one</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">two</span> <span class="o">=</span> <span class="mi">2</span>
<span class="n">three</span> <span class="o">=</span> <span class="mi">3</span>

<span class="n">integers</span> <span class="o">=</span> <span class="n">class_namespace</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [3]: </span><span class="n">integers</span><span class="o">.</span><span class="n">three</span>
<span class="gh">Out[3]: </span><span class="go">3</span>

<span class="gp">In [4]: </span><span class="nb">list</span><span class="p">(</span><span class="n">integers</span><span class="p">)</span>  <span class="c1"># Iterate through namespace in alphabetical order</span>
<span class="gh">Out[4]: </span><span class="go">[1, 3, 2]</span>
</pre></div>
</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="tips.html" class="btn btn-neutral float-left" title="Tips and Tricks" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="other_modules.html" class="btn btn-neutral float-right" title="Related Modules" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright .</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>