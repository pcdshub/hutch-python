<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Tips and Tricks &mdash; hutch-python 1.18.6.dev32+g4e74846 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=19f00094" />

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="_static/documentation_options.js?v=f3b288c3"></script>
        <script src="_static/doctools.js?v=888ff710"></script>
        <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="_static/docs-versions-menu.js?v=3d6a1aea"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Useful Utilities" href="user_utils.html" />
    <link rel="prev" title="Reporting Issues" href="report.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            hutch-python
          </a>
              <div class="version">
                1.18.6.dev32+g4e74846
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="start.html">Starting a Session</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">What to Expect When You are Expecting a New Hutch Python</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">User Documentation</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="startup.html">Startup Sequence</a></li>
<li class="toctree-l1"><a class="reference internal" href="database.html">Database Objects</a></li>
<li class="toctree-l1"><a class="reference internal" href="daq.html">DAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="beamline.html">Beamline File</a></li>
<li class="toctree-l1"><a class="reference internal" href="experiment.html">Experiment File</a></li>
<li class="toctree-l1"><a class="reference internal" href="presets.html">Presets</a></li>
<li class="toctree-l1"><a class="reference internal" href="object_configuration.html">Object Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="report.html">Reporting Issues</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Tips and Tricks</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#using-partial-for-scan-variants">Using Partial for Scan Variants</a></li>
<li class="toctree-l2"><a class="reference internal" href="#device-console-logging-configuration">Device Console Logging Configuration</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="user_utils.html">Useful Utilities</a></li>
<li class="toctree-l1"><a class="reference internal" href="other_modules.html">Related Modules</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Developer Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="environment.html">Environments</a></li>
<li class="toctree-l1"><a class="reference internal" href="hutch_setup.html">Hutch Setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="yaml_files.html">Yaml Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="debug.html">Debug</a></li>
<li class="toctree-l1"><a class="reference internal" href="releases.html">Release History</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Internal API Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="bug.html">bug.py</a></li>
<li class="toctree-l1"><a class="reference internal" href="cache.html">cache.py</a></li>
<li class="toctree-l1"><a class="reference internal" href="cli.html">cli.py</a></li>
<li class="toctree-l1"><a class="reference internal" href="ipython_log.html">ipython_log.py</a></li>
<li class="toctree-l1"><a class="reference internal" href="load_conf.html">load_conf.py</a></li>
<li class="toctree-l1"><a class="reference internal" href="load_parts.html">load submodules</a></li>
<li class="toctree-l1"><a class="reference internal" href="log_setup.html">log_setup.py</a></li>
<li class="toctree-l1"><a class="reference internal" href="namespace.html">namespace.py</a></li>
<li class="toctree-l1"><a class="reference internal" href="utils.html">utils.py</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">hutch-python</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Tips and Tricks</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/tips.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="tips-and-tricks">
<h1>Tips and Tricks<a class="headerlink" href="#tips-and-tricks" title="Link to this heading">¶</a></h1>
<section id="using-partial-for-scan-variants">
<h2>Using Partial for Scan Variants<a class="headerlink" href="#using-partial-for-scan-variants" title="Link to this heading">¶</a></h2>
<p>Suppose in an experiment you’re always calling a function with a particular
argument, or at a hutch you want a specially-named scan for a motor that is
used every shift. You can write custom variants of any scan using a
Python built-in, <code class="docutils literal notranslate"><span class="pre">functools.partial</span></code></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">bluesky.plans</span> <span class="kn">import</span> <span class="n">scan</span>
<span class="kn">from</span> <span class="nn">functools</span> <span class="kn">import</span> <span class="n">partial</span>
<span class="kn">from</span> <span class="nn">hutch.db</span> <span class="kn">import</span> <span class="n">my_motor</span>

<span class="c1"># Put arguments in early</span>
<span class="n">my_scan</span> <span class="o">=</span> <span class="n">partial</span><span class="p">(</span><span class="n">scan</span><span class="p">,</span> <span class="p">[],</span> <span class="n">my_motor</span><span class="p">)</span>

<span class="c1"># Now we only need to provide start, stop, number of points</span>
<span class="n">RE</span><span class="p">(</span><span class="n">my_scan</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="n">num</span><span class="o">=</span><span class="mi">10</span><span class="p">))</span>
</pre></div>
</div>
</section>
<section id="device-console-logging-configuration">
<h2>Device Console Logging Configuration<a class="headerlink" href="#device-console-logging-configuration" title="Link to this heading">¶</a></h2>
<p>Hutch Python has some built-in spam prevention, but sometimes you’ll find
yourself wanting to get rid of specific object’s console logs, typically
because they are distracting and irrelevant to what you’re trying to
accomplish. Other times you’ll want to focus on specific objects, or
perhaps turn off the console logging entirely. All of these are possible
using the <code class="docutils literal notranslate"><span class="pre">logs</span></code> namespace.</p>
<p>Here are some example of this:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># In IPython, you can skip these imports</span>
<span class="kn">from</span> <span class="nn">hutch.db</span> <span class="kn">import</span> <span class="n">logs</span><span class="p">,</span> <span class="n">noisy_device</span><span class="p">,</span> <span class="n">important_noisy_device</span>

<span class="c1"># Silence a specific noisy device</span>
<span class="n">logs</span><span class="o">.</span><span class="n">filter</span><span class="o">.</span><span class="n">blacklist</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">noisy_device</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>

<span class="c1"># Unsilence an automatically filtered spammy device</span>
<span class="n">logs</span><span class="o">.</span><span class="n">filter</span><span class="o">.</span><span class="n">whitelist</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">important_noisy_device</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>

<span class="c1"># Focus on specific objects to see extra debug information</span>
<span class="n">logs</span><span class="o">.</span><span class="n">log_objects</span><span class="p">(</span><span class="n">important_noisy_device</span><span class="p">)</span>

<span class="c1"># Clear the &quot;log_objects&quot; focus from the previous line</span>
<span class="n">logs</span><span class="o">.</span><span class="n">log_objects_off</span><span class="p">()</span>
</pre></div>
</div>
<p>In an active Hutch Python session, try <code class="docutils literal notranslate"><span class="pre">logs.filter</span></code> to see the current
filter status.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="report.html" class="btn btn-neutral float-left" title="Reporting Issues" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="user_utils.html" class="btn btn-neutral float-right" title="Useful Utilities" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright .</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>