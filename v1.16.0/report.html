<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Reporting Issues &mdash; hutch-python 1.16.0 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Tips and Tricks" href="tips.html" />
    <link rel="prev" title="Object Configuration" href="object_configuration.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> hutch-python
          </a>
              <div class="version">
                1.16.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="start.html">Starting a Session</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">What to Expect When You are Expecting a New Hutch Python</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">User Documentation</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="startup.html">Startup Sequence</a></li>
<li class="toctree-l1"><a class="reference internal" href="database.html">Database Objects</a></li>
<li class="toctree-l1"><a class="reference internal" href="daq.html">DAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="beamline.html">Beamline File</a></li>
<li class="toctree-l1"><a class="reference internal" href="experiment.html">Experiment File</a></li>
<li class="toctree-l1"><a class="reference internal" href="presets.html">Presets</a></li>
<li class="toctree-l1"><a class="reference internal" href="object_configuration.html">Object Configuration</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Reporting Issues</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#issue-lifecyle">Issue Lifecyle</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tips.html">Tips and Tricks</a></li>
<li class="toctree-l1"><a class="reference internal" href="user_utils.html">Useful Utilities</a></li>
<li class="toctree-l1"><a class="reference internal" href="other_modules.html">Related Modules</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Developer Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="environment.html">Environments</a></li>
<li class="toctree-l1"><a class="reference internal" href="hutch_setup.html">Hutch Setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="yaml_files.html">Yaml Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="debug.html">Debug</a></li>
<li class="toctree-l1"><a class="reference internal" href="releases.html">Release History</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Internal API Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="bug.html">bug.py</a></li>
<li class="toctree-l1"><a class="reference internal" href="cache.html">cache.py</a></li>
<li class="toctree-l1"><a class="reference internal" href="cli.html">cli.py</a></li>
<li class="toctree-l1"><a class="reference internal" href="ipython_log.html">ipython_log.py</a></li>
<li class="toctree-l1"><a class="reference internal" href="load_conf.html">load_conf.py</a></li>
<li class="toctree-l1"><a class="reference internal" href="load_parts.html">load submodules</a></li>
<li class="toctree-l1"><a class="reference internal" href="log_setup.html">log_setup.py</a></li>
<li class="toctree-l1"><a class="reference internal" href="namespace.html">namespace.py</a></li>
<li class="toctree-l1"><a class="reference internal" href="utils.html">utils.py</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">hutch-python</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Reporting Issues</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/report.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<section id="reporting-issues">
<h1>Reporting Issues<a class="headerlink" href="#reporting-issues" title="Permalink to this heading">¶</a></h1>
<p>One advantage of standardizing the logging system and startup scripts with
hutch-python is programmatically being able to gather information about the
current Python environment. One common use case for much of this information
is being able to diagnose software bugs after the fact if we are diligent about
recording the pertinent information. The <a class="reference internal" href="generated/hutch_python.bug.report_bug.html#hutch_python.bug.report_bug" title="hutch_python.bug.report_bug"><code class="xref any py py-func docutils literal notranslate"><span class="pre">hutch_python.bug.report_bug</span></code></a> command
wraps much of this functionality up by asking a few simple questions of the
operator and noting the current environment and log file. By the end of the
function we should have:</p>
<blockquote>
<div><ul class="simple">
<li><p>A one line description of the problem</p></li>
<li><p>A more verbose explanation of the issue and how it affects operations</p></li>
<li><p>A name to follow up with additional questions / closeout</p></li>
<li><p>The commands entered by the operator</p></li>
<li><p>The current CONDA environment</p></li>
<li><p>Relevant logfiles written to by this Python session</p></li>
<li><p>Capture output printed to the terminal</p></li>
<li><p>Any packages installed in “development” mode</p></li>
</ul>
</div></blockquote>
<p>This command is available as both an actual Python function and an IPython
magic. The ladder allows you to pinpoint the exact function that is causing
issues.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="n">report_bug</span> <span class="n">my_buggy_function</span><span class="p">()</span>
</pre></div>
</div>
<p>If you call <a class="reference internal" href="generated/hutch_python.bug.report_bug.html#hutch_python.bug.report_bug" title="hutch_python.bug.report_bug"><code class="xref any py py-func docutils literal notranslate"><span class="pre">report_bug</span></code></a> as a regular function you can specify a number of past
commands you want to include in the overall report. This allows you to
posthumously report issues without running the actual function again.</p>
<blockquote>
<div><dl class="py function">
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">hutch_python.bug.</span></span><span class="sig-name descname"><span class="pre">report_bug</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">description</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">author</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prior_commands</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">captured_output</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Report a bug from the IPython session</p>
<p>The purpose of this command is to collect the necessary information to
later help diagnose and troubleshoot the issue. This is written as an
interactive tool, but it can be used in a non-interactive way by entering
the information on the call.</p>
<p>By the end we should have gathered:</p>
<blockquote>
<div><ul class="simple">
<li><p>A brief description of the problem</p></li>
<li><p>The relevant commands to the bug report</p></li>
<li><p>Name of the current CONDA environment</p></li>
<li><p>Any packages installed in “development” mode</p></li>
<li><p>Relevant logfiles</p></li>
<li><p>Name of bug report author</p></li>
</ul>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>title</strong> (<em>str</em><em>, </em><em>optional</em>) – One sentence description of the issue</p></li>
<li><p><strong>description</strong> (<em>str</em><em>, </em><em>optional</em>) – Written description of problem. If this is not provided, a text editor
is launched that request the information from the user</p></li>
<li><p><strong>author</strong> (<em>str</em><em>, </em><em>optional</em>) – Name of bug report author. If not provided, this is requested from the
user via command line</p></li>
<li><p><strong>prior_commands</strong> (<em>int</em><em>, </em><em>optional</em>) – Number of prior commands to capture. If this is not provided, this is
requested from the user via command line.</p></li>
<li><p><strong>captured_output</strong> (<em>str</em><em>, </em><em>optional</em>) – Captured output from the command</p></li>
<li><p><strong>kwargs</strong> – Pass authentication information to <a class="reference internal" href="generated/hutch_python.bug.post_to_github.html#hutch_python.bug.post_to_github" title="hutch_python.bug.post_to_github"><code class="xref py py-func docutils literal notranslate"><span class="pre">post_to_github()</span></code></a></p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div></blockquote>
<section id="issue-lifecyle">
<h2>Issue Lifecyle<a class="headerlink" href="#issue-lifecyle" title="Permalink to this heading">¶</a></h2>
<p>After reporting the issue on the command line, an issue will be created at
<a class="reference external" href="https://github.com/pcdshub/Bug-Reports">https://github.com/pcdshub/Bug-Reports</a>. This will alert those subscribed to
this repository via email about the current issue and appropriate action will
be made by the PCDS staff. This may mean a deeper look at the linked log files
and/or creating a distilled issue or action item in a different repository.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="object_configuration.html" class="btn btn-neutral float-left" title="Object Configuration" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="tips.html" class="btn btn-neutral float-right" title="Tips and Tricks" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright .</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>